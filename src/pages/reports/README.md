# BÃ¡o cÃ¡o TÃ i chÃ­nh - TÃ¬nh hÃ¬nh ÄÃ³ng há»c

## ğŸ“Š Tá»•ng quan

Trang **BÃ¡o cÃ¡o TÃ i chÃ­nh** cung cáº¥p cÃ¡i nhÃ¬n tá»•ng quan vá» tÃ¬nh hÃ¬nh Ä‘Ã³ng há»c phÃ­ cá»§a trung tÃ¢m, bao gá»“m:

- Doanh thu tá»•ng thá»ƒ
- Sá»‘ lÆ°á»£ng giao dá»‹ch
- Sá»‘ há»c viÃªn Ä‘Ã£ Ä‘Ã³ng tiá»n
- Tá»•ng sá»‘ buá»•i há»c Ä‘Ã£ thanh toÃ¡n
- Biá»ƒu Ä‘á»“ doanh thu theo thá»i gian
- PhÃ¢n tÃ­ch theo loáº¡i thanh toÃ¡n (Láº»/KhÃ³a)

## ğŸ¯ Chá»©c nÄƒng chÃ­nh

### 1. Bá»™ lá»c dá»¯ liá»‡u

- **Khoáº£ng thá»i gian**: Chá»n tá»« ngÃ y Ä‘áº¿n ngÃ y Ä‘á»ƒ xem bÃ¡o cÃ¡o
- **CÆ¡ sá»Ÿ**: Lá»c theo tá»«ng cÆ¡ sá»Ÿ cá»¥ thá»ƒ
- **Lá»›p há»c**: Lá»c theo lá»›p há»c
- **Loáº¡i thanh toÃ¡n**: Lá»c theo Láº» hoáº·c KhÃ³a

### 2. Thá»‘ng kÃª tá»•ng quan (Cards)

#### ğŸ’° Tá»•ng doanh thu

- Hiá»ƒn thá»‹ tá»•ng sá»‘ tiá»n thu Ä‘Æ°á»£c
- Äá»‹nh dáº¡ng tiá»n tá»‡ VNÄ
- MÃ u xanh lÃ¡ (success)

#### ğŸ§¾ Sá»‘ giao dá»‹ch

- Tá»•ng sá»‘ láº§n Ä‘Ã³ng tiá»n
- MÃ u xanh dÆ°Æ¡ng (primary)

#### ğŸ‘¥ Há»c viÃªn Ä‘Ã³ng tiá»n

- Sá»‘ lÆ°á»£ng há»c viÃªn unique Ä‘Ã£ thanh toÃ¡n
- MÃ u xanh nháº¡t (info)

#### ğŸ“… Tá»•ng sá»‘ buá»•i

- Tá»•ng sá»‘ buá»•i há»c Ä‘Ã£ thanh toÃ¡n
- MÃ u vÃ ng (warning)

### 3. Biá»ƒu Ä‘á»“ doanh thu

**Biá»ƒu Ä‘á»“ káº¿t há»£p (Dual-axis Bar Chart)**:

- **Trá»¥c Y trÃ¡i**: Doanh thu (VNÄ) - Cá»™t mÃ u xanh lÃ¡
- **Trá»¥c Y pháº£i**: Sá»‘ giao dá»‹ch - Cá»™t mÃ u xanh dÆ°Æ¡ng
- **Trá»¥c X**: ThÃ¡ng/NÄƒm

Biá»ƒu Ä‘á»“ tá»± Ä‘á»™ng cáº­p nháº­t khi thay Ä‘á»•i bá»™ lá»c.

### 4. PhÃ¢n bá»• theo loáº¡i thanh toÃ¡n

Hiá»ƒn thá»‹:

- Loáº¡i thanh toÃ¡n (Láº»/KhÃ³a)
- Tá»•ng tiá»n theo loáº¡i
- Sá»‘ giao dá»‹ch
- Progress bar
- Pháº§n trÄƒm so vá»›i tá»•ng

### 5. Báº£ng chi tiáº¿t giao dá»‹ch

**Columns**:

- NgÃ y Ä‘Ã³ng
- Há»c viÃªn (mÃ£ + tÃªn)
- Lá»›p
- Loáº¡i (Láº»/KhÃ³a)
- Sá»‘ buá»•i
- Sá»‘ tiá»n
- Ghi chÃº
- Thao tÃ¡c (Xem/Sá»­a)

**Features**:

- TÃ¬m kiáº¿m theo mÃ£ há»c viÃªn, tÃªn, ghi chÃº
- Sáº¯p xáº¿p theo cá»™t
- PhÃ¢n trang
- Click vÃ o row Ä‘á»ƒ xem chi tiáº¿t
- NÃºt xem chi tiáº¿t vÃ  sá»­a

### 6. Xuáº¥t bÃ¡o cÃ¡o

**NÃºt "Xuáº¥t Excel"**: Xuáº¥t toÃ n bá»™ dá»¯ liá»‡u Ä‘Ã£ lá»c ra file Excel (Coming soon)

## ğŸš€ HÆ°á»›ng dáº«n sá»­ dá»¥ng

### Xem bÃ¡o cÃ¡o tá»•ng quan

1. Truy cáº­p menu **"BÃ¡o cÃ¡o tÃ i chÃ­nh"**
2. Há»‡ thá»‘ng tá»± Ä‘á»™ng load toÃ n bá»™ dá»¯ liá»‡u
3. Xem cÃ¡c chá»‰ sá»‘ trÃªn cards
4. Xem biá»ƒu Ä‘á»“ vÃ  phÃ¢n tÃ­ch

### Lá»c dá»¯ liá»‡u theo Ä‘iá»u kiá»‡n

1. Chá»n **Khoáº£ng thá»i gian** (VD: 01/09/2025 - 30/09/2025)
2. Chá»n **CÆ¡ sá»Ÿ** (náº¿u muá»‘n xem riÃªng 1 cÆ¡ sá»Ÿ)
3. Chá»n **Lá»›p há»c** (náº¿u muá»‘n xem riÃªng 1 lá»›p)
4. Chá»n **Loáº¡i thanh toÃ¡n** (Láº» hoáº·c KhÃ³a)
5. Há»‡ thá»‘ng tá»± Ä‘á»™ng cáº­p nháº­t táº¥t cáº£ thá»‘ng kÃª

### TÃ¬m kiáº¿m giao dá»‹ch cá»¥ thá»ƒ

1. Nháº­p tá»« khÃ³a vÃ o Ã´ **"TÃ¬m kiáº¿m..."**
2. CÃ³ thá»ƒ tÃ¬m theo:
   - MÃ£ há»c viÃªn
   - TÃªn há»c viÃªn
   - Ghi chÃº

### Xem chi tiáº¿t giao dá»‹ch

1. Click vÃ o row trong báº£ng
2. Hoáº·c click nÃºt **"Xem"** (icon máº¯t)
3. Modal chi tiáº¿t sáº½ hiá»ƒn thá»‹ (Coming soon)

### Sá»­a giao dá»‹ch

1. Click nÃºt **"Sá»­a"** (icon bÃºt)
2. Modal sá»­a sáº½ hiá»ƒn thá»‹ (Coming soon)

## ğŸ“± Responsive Design

Trang Ä‘Æ°á»£c tá»‘i Æ°u cho táº¥t cáº£ thiáº¿t bá»‹:

### Mobile (< 640px)

- Cards xáº¿p dá»c 1 cá»™t
- Filters xáº¿p dá»c
- Buttons full width
- Chart height: 300px

### Tablet (640px - 1024px)

- Cards 2 cá»™t
- Filters 2 cá»™t
- Chart height: 300px

### Desktop (> 1024px)

- Cards 4 cá»™t
- Filters 4 cá»™t
- Chart height: 400px
- Full features

## ğŸ”§ Technical Details

### Data Source

- **Sheet chÃ­nh**: `DongHoc` (Payment)
- **Sheet phá»¥**:
  - `DanhSach` (Student) - Äá»ƒ merge tÃªn há»c viÃªn
  - `CoSo` (Location) - Äá»ƒ filter theo cÆ¡ sá»Ÿ
  - `LopHoc` (Group) - Äá»ƒ filter theo lá»›p

### Date Format Handling

- **Input**: DD/MM/YYYY hoáº·c YYYY-MM-DD hoáº·c timestamp
- **Output**: DD/MM/YYYY (locale vi-VN)
- **Chart**: MM/YYYY

### Money Format

- **Input**: "1000000" hoáº·c "1.000.000"
- **Parse**: Remove dots â†’ parseFloat
- **Display**: toLocaleString('vi-VN') â†’ "1.000.000"

### Chart Library

- **Library**: Chart.js v4
- **Type**: Bar chart with dual Y-axis
- **Update**: Auto update when filters change
- **Responsive**: Yes

## ğŸ¨ Color Scheme

### Status Colors

- **Success (Xanh lÃ¡)**: Doanh thu, Tiá»n
- **Primary (Xanh dÆ°Æ¡ng)**: Giao dá»‹ch
- **Info (Xanh nháº¡t)**: Há»c viÃªn
- **Warning (VÃ ng)**: Buá»•i há»c

### Payment Type Colors

- **Láº»**: Success (Xanh lÃ¡)
- **KhÃ³a**: Primary (Xanh dÆ°Æ¡ng)

## ğŸ“ TODO / Coming Soon

- [ ] Xuáº¥t Excel vá»›i formatting Ä‘áº¹p
- [ ] Modal xem chi tiáº¿t giao dá»‹ch
- [ ] Modal sá»­a giao dá»‹ch
- [ ] Biá»ƒu Ä‘á»“ Pie chart cho distribution
- [ ] So sÃ¡nh theo nÄƒm
- [ ] Export PDF
- [ ] Print report
- [ ] Email report
- [ ] Lá»‹ch sá»­ xem bÃ¡o cÃ¡o
- [ ] Save filter presets

## ğŸ› Known Issues

None currently.

## ğŸ“ Support

Náº¿u cÃ³ váº¥n Ä‘á» hoáº·c cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡ team phÃ¡t triá»ƒn.
